import{_ as i,r as c,o as m,c as p,b as s,e as t,w as e,a as n,d as l}from"./app-DFklLwn2.js";const r="/online_notesV2/assets/image-20230628104902899-7920546-ByXmhEN9.png",h="/online_notesV2/assets/image-20230628114916327-7924158-hs0nkEWG.png",o="/online_notesV2/assets/image-20230628120034104-7924835-C8BHG7qm.png",u="/online_notesV2/assets/image-20230628143050162-7933851-Bs05GHdS.png",g={},d=s("h1",{id:"召回",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#召回"},[s("span",null,"召回")])],-1),v={class:"table-of-contents"},_=n('<h2 id="_0-资料网址" tabindex="-1"><a class="header-anchor" href="#_0-资料网址"><span>0.资料网址：</span></a></h2><ul><li></li></ul><p>系列</p><ul><li></li></ul><h2 id="_1-内容召回" tabindex="-1"><a class="header-anchor" href="#_1-内容召回"><span>1. 内容召回</span></a></h2><ul><li>基于标签/主题的召回 <ul><li>优点：物品不需要有用户的历史行为数据，有利于物品的冷启动</li><li>缺点：依赖人为设计的标签体系</li></ul></li><li>基于标签和主题还能有每个标签/主题的热门榜单，以及全局的热门榜单 <ul><li>需要依赖别的用户的</li></ul></li></ul><h2 id="_2-协同过滤" tabindex="-1"><a class="header-anchor" href="#_2-协同过滤"><span>2. 协同过滤</span></a></h2><h3 id="i2i" tabindex="-1"><a class="header-anchor" href="#i2i"><span>i2i</span></a></h3>',8),y=s("ul",null,[s("li",null,[s("p",null,"根据用户喜欢的物品，推荐与之相似的物品")]),s("li",null,[s("p",null,"Item-CF"),s("ul",null,[s("li",null,[s("p",null,"两个物品的相似度喜欢两个物品的群体决定：交集越大，相似度越高")]),s("li",null,[s("p",null,"但因为热门物品可能很多人喜欢，因此需要分母来打压热门物品的相似度")]),s("li",null,[s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow",null,[s("mi",null,"s"),s("mo",{stretchy:"false"},"("),s("mi",null,"i"),s("mo",{separator:"true"},","),s("mi",null,"j"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("mfrac",null,[s("mrow",null,[s("msub",null,[s("mi",null,"U"),s("mi",null,"i")]),s("mo",null,"∩"),s("msub",null,[s("mi",null,"U"),s("mi",null,"j")])]),s("mrow",null,[s("msqrt",null,[s("msub",null,[s("mi",null,"U"),s("mi",null,"i")])]),s("msqrt",null,[s("msub",null,[s("mi",null,"U"),s("mi",null,"j")])])])])]),s("annotation",{encoding:"application/x-tex"}," s(i,j) = \\frac{U_i\\cap U_j}{\\sqrt{U_i}\\sqrt{U_j}} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal"},"s"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"i"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"2.4903em","vertical-align":"-1.13em"}}),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3603em"}},[s("span",{style:{top:"-2.2264em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord sqrt"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8517em"}},[s("span",{class:"svg-align",style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord",style:{"padding-left":"0.833em"}},[s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.109em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])]),s("span",{style:{top:"-2.8117em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"hide-tail",style:{"min-width":"0.853em",height:"1.08em"}},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"},[s("path",{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1883em"}},[s("span")])])])]),s("span",{class:"mord sqrt"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8836em"}},[s("span",{class:"svg-align",style:{top:"-3.2em"}},[s("span",{class:"pstrut",style:{height:"3.2em"}}),s("span",{class:"mord",style:{"padding-left":"1em"}},[s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.109em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])]),s("span",{style:{top:"-2.8436em"}},[s("span",{class:"pstrut",style:{height:"3.2em"}}),s("span",{class:"hide-tail",style:{"min-width":"1.02em",height:"1.28em"}},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.28em",viewBox:"0 0 400000 1296",preserveAspectRatio:"xMinYMin slice"},[s("path",{d:`M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z`})])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3564em"}},[s("span")])])])])])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.677em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.109em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"∩"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.109em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.13em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})])])])])])])])])]),s("li",null,[s("p",null,"Swing"),s("ul",null,[s("li",null,[l("是一种u-i-u的结构。 "),s("ul",null,[s("li",null,"对所有共同喜欢这两个物品的人构建pair，每一个pair计算用户相似性分数，为用户共同喜欢物品数目的倒数。相似性分数求和得到swing分数。")])]),s("li",null,[s("img",{src:r,alt:"image-20230628104902899",style:{zoom:"50%"}})])])])],-1),f=n('<h3 id="u2i" tabindex="-1"><a class="header-anchor" href="#u2i"><span>u2i</span></a></h3><ul><li>根据两个用户的相似程度推荐内容</li></ul><h3 id="探索性召回-赌徒算法" tabindex="-1"><a class="header-anchor" href="#探索性召回-赌徒算法"><span>探索性召回--赌徒算法</span></a></h3><img src="'+h+'" alt="image-20230628114916327" style="zoom:50%;"><h2 id="_3-向量召回" tabindex="-1"><a class="header-anchor" href="#_3-向量召回"><span>3. 向量召回</span></a></h2><h3 id="item2vec" tabindex="-1"><a class="header-anchor" href="#item2vec"><span>item2vec</span></a></h3><p><img src="'+o+'" alt="image-20230628120034104"></p><h3 id="dssm" tabindex="-1"><a class="header-anchor" href="#dssm"><span>DSSM</span></a></h3><ul><li>原始论文：Learning Deep Structured Semantic Models for Web Search using Clickthrough Data <ul><li>https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/cikm2013_DSSM_fullversion.pdf</li></ul></li><li>是一个pair-wise的loss <ul><li>其实就和对比学习一样，拉近正样本的距离，拉远负样本的距离。</li><li>只是这里是随机选取4个未被点击的文档 <ul><li>在推荐中，可能需要构造难负样本。比如batch内负采样。因为热门（特征内容丰富的）物品是少的，全局均匀采样可能很多内容都是特征不怎么丰富的。</li></ul></li><li><img src="'+u+'" alt="image-20230628143050162" style="zoom:50%;"></li></ul></li></ul><h3 id="负样本构造" tabindex="-1"><a class="header-anchor" href="#负样本构造"><span>负样本构造</span></a></h3><p>http://www.taodudu.cc/news/show-3146042.html?action=onClick</p><ul><li>展示未曝光的不一定是不感兴趣的</li><li>简单负样本：全局均匀采样</li><li>困难负样本：召回后被截断的、粗排后被截断的、精排后排序靠后难以展出的</li></ul>',12);function w(b,x){const a=c("router-link");return m(),p("div",null,[d,s("nav",v,[s("ul",null,[s("li",null,[t(a,{to:"#_0-资料网址"},{default:e(()=>[l("0.资料网址：")]),_:1})]),s("li",null,[t(a,{to:"#_1-内容召回"},{default:e(()=>[l("1. 内容召回")]),_:1})]),s("li",null,[t(a,{to:"#_2-协同过滤"},{default:e(()=>[l("2. 协同过滤")]),_:1}),s("ul",null,[s("li",null,[t(a,{to:"#i2i"},{default:e(()=>[l("i2i")]),_:1})]),s("li",null,[t(a,{to:"#u2i"},{default:e(()=>[l("u2i")]),_:1})]),s("li",null,[t(a,{to:"#探索性召回-赌徒算法"},{default:e(()=>[l("探索性召回--赌徒算法")]),_:1})])])]),s("li",null,[t(a,{to:"#_3-向量召回"},{default:e(()=>[l("3. 向量召回")]),_:1}),s("ul",null,[s("li",null,[t(a,{to:"#item2vec"},{default:e(()=>[l("item2vec")]),_:1})]),s("li",null,[t(a,{to:"#dssm"},{default:e(()=>[l("DSSM")]),_:1})]),s("li",null,[t(a,{to:"#负样本构造"},{default:e(()=>[l("负样本构造")]),_:1})])])])])]),_,y,f])}const z=i(g,[["render",w],["__file","召回.html.vue"]]),S=JSON.parse('{"path":"/AI/RecSys/%E5%8F%AC%E5%9B%9E.html","title":"召回","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"0.资料网址：","slug":"_0-资料网址","link":"#_0-资料网址","children":[]},{"level":2,"title":"1. 内容召回","slug":"_1-内容召回","link":"#_1-内容召回","children":[]},{"level":2,"title":"2. 协同过滤","slug":"_2-协同过滤","link":"#_2-协同过滤","children":[{"level":3,"title":"i2i","slug":"i2i","link":"#i2i","children":[]},{"level":3,"title":"u2i","slug":"u2i","link":"#u2i","children":[]},{"level":3,"title":"探索性召回--赌徒算法","slug":"探索性召回-赌徒算法","link":"#探索性召回-赌徒算法","children":[]}]},{"level":2,"title":"3. 向量召回","slug":"_3-向量召回","link":"#_3-向量召回","children":[{"level":3,"title":"item2vec","slug":"item2vec","link":"#item2vec","children":[]},{"level":3,"title":"DSSM","slug":"dssm","link":"#dssm","children":[]},{"level":3,"title":"负样本构造","slug":"负样本构造","link":"#负样本构造","children":[]}]}],"git":{"updatedTime":1706457681000,"contributors":[{"name":"henryhuanghenry","email":"henryhuanghenry@outlook.com","commits":1}]},"filePathRelative":"AI/RecSys/召回.md"}');export{z as comp,S as data};
